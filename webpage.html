<!DOCTYPE html>
<!-- Add a title -->
<h1>Traveling Salesman Problem</h1>

<p>An implementation of three different TSP approximation algorithms</p>
<dl>
    <dt style="font-size:20px">Nearest Neighbor Algorithm</dt>
    <dd>The path is decided by which point is closest to the current point. Runs in O(n^2) time, doesn't find most efficient path.</dd>
    <dt style="font-size:20px">2-approx Algorithm</dt>
    <dd>Construct path by creating an MST (Prim's, Kruskal's, etc.) then performing a preorder traversal.</dd>
    <dt style="font-size:20px">1.5-approx Algorithm (Christofides)</dt>
    <dd>not sure yet</dd>
</dl>

<svg id="dataviz_area" height=200 width=450></svg>

<script src="https://d3js.org/d3.v4.js"></script>

<script type='text/javascript'>
    var svg = d3.select("body").append("svg")
        .attr("width", 500)
        .attr("height", 500)
        .style("border", "1px dashed");
    d3.select("body").insert("div", "svg").append("button").text("Export").on("click", exportGraph);
    function exportGraph() {
        var cxcy = [];
        d3.selectAll("circle").each(function () {
            cxcy.push([d3.select(this).attr("cx"), d3.select(this).attr("cy")]);
        });
        console.log(cxcy);
    }
    function reset() {

    }
    svg.on("click", svgClick);
    var prevClickLoc = [0,0];
    var count = 0;
    document.getElementById("clicks").innerHTML = count;
    function svgClick() {
        d3.event.stopPropagation();
        var coords = d3.mouse(this);
        var x = coords[0];
        var y = coords[1];
        if (x !== prevClickLoc[0] && y !== prevClickLoc[1]){
            svg.append("circle").attr("r", 3)
                .attr("cx", x.toFixed(2))
                .attr("cy", y.toFixed(2))
                .style("fill", "blue")
                .style("stroke", "black")
                .style("stroke-width", "2px");
            prevClickLoc = coords;
            count+=1;
        }
    }
    d3.select("body").insert("div", "svg").append("button").text("Reset").on("click", reset);
</script>
<button type="button" onClick="onClick()">Click me</button>
<p>Clicks: <a id="clicks">0</a></p>