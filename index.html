<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script
            type="text/javascript"
            src="https://d3js.org/d3.v3.js"
    ></script>
</head><!--from  w  ww .d  e  m o  2  s  .c  o m-->
<body>
<script type='text/javascript'>
    var svg = d3.select("body").append("svg")
        .attr("width", 500)
        .attr("height", 500).style("border", "1px dashed");
    d3.select("body").insert("div", "svg").append("button").text("Export").on("click", exportGraph);
    function exportGraph() {
        var cxcy = [];
        var paths = [];
        d3.selectAll("circle").each(function () {
            cxcy.push([d3.select(this).attr("cx"), d3.select(this).attr("cy")]);
        });
        d3.selectAll("path").each(function () {
            paths.push(d3.select(this).attr("d"));
        });
        console.log(cxcy + " :: " + paths);
    }
    svg.on("click", svgClick);
    var prevClickLoc = [0,0];
    function svgClick(a, b, c) {
        d3.event.stopPropagation();
        var coords = d3.mouse(this);
        var x = coords[0];
        var y = coords[1];
        if (x != prevClickLoc[0] && y != prevClickLoc[1]){
            svg.append("circle").attr("r", 10)
                .attr("cx", x)
                .attr("cy", y)
                .style("fill", "blue")
                .style("stroke", "black")
                .style("stroke-width", "2px");
        }
    }
</script>
</body>
</html>